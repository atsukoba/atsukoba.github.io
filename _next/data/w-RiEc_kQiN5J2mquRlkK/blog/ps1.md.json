{"pageProps":{"content":"\nGit のブランチをプロンプトに表示したかったので，[プロンプトをカスタマイズして git ブランチを表示する](https://qiita.com/caad1229/items/6d71d84933c8a87af0c4)をもとに，`~/.bashrc`の`PS1`(The primary prompt string) を変更したのでメモ。\n\n---\n\n<script src=\"https://gist.github.com/atsukoba/369f8afa9bde30ceafce2d4f3b087a2c.js\"></script>\n\n以上を設定し，\n\n![my prompt](https://i.gyazo.com/1aa55461979ca2a5e392e0bf6be39425.png)\n\nこうなった。\n\n---\n\n## 備忘録\n\n[2.5. Bash Prompt Escape Sequences](http://tldp.org/HOWTO/Bash-Prompt-HOWTO/bash-prompt-escape-sequences.html)によると，以下の通り。\n\n- `\\h` => ホスト名\n- `\\u` => ユーザ名\n- `\\w` => ディレクトリ（フルパス）\n- `\\W` => ディレクトリ\n- `\\t` => 時間 (24 形式)\n- `\\T` => 時間 (12 形式)\n- `\\@` => AM / PM\n- `\\d` => 日付\n- `\\D` => 日時\n- `\\#` => コマンド番号\n- `\\!` => ヒストリ番号\n- `\\n` => 改行\n\n表示としては，\n\n```bash\n[<コマンド番号>(<ヒストリ番号>)] <時間 HH:MM:SS> <user> at <directory> [<branch>]\n```\n\nとなる。\n\n`<branch>`の部分では，`parse_guit_branch`を呼んでいて，その内部がでは`git branch --no-color`の結果を`sed`で置換，エラー(`2`)を[`/dev/null`](https://ja.wikipedia.org/wiki//dev/null)へ捨てている。\n\nまた，上記記事にもあるが，色設定として以下の変数化も使える\n\n```shellscript\nlocal  BLUE=\"\\[\\e[1;34m\\]\"\nlocal  RED=\"\\[\\e[1;31m\\]\"\nlocal  GREEN=\"\\[\\e[1;32m\\]\"\nlocal  WHITE=\"\\[\\e[00m\\]\"\nlocal  GRAY=\"\\[\\e[1;37m\\]\"\n```\n\n---\n\n### ちなみに\n\n`PS2`(The secondary prompt string)も設定できるみたいだが面倒なので放置。\n","data":{"description":"","title":"bashプロンプトメモ","slug":"ps1","date":"2019-04-29T00:00:53.000Z","category":"Tech Blog","tags":["shellscript","bash"]}},"__N_SSG":true}